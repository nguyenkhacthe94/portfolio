<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Twelve-Factor App - The Nguyen Khac</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../css/posts.css">
</head>

<body>
    <div id="nav-placeholder"></div>

    <div class="container">
        <article>
            <!-- Article Header -->
            <header class="article-header">
                <div class="article-meta">Software Architecture • Methodology</div>
                <h1>The Twelve-Factor App</h1>
                <img src="../../img/12_factor_app_thumbnail.png" alt="12-Factor App Thumbnail"
                    class="article-thumbnail">
                <p class="article-intro">
                    A methodology for building software-as-a-service apps that are portable, scalable, and maintainable.
                </p>
                <p><em>Source: <a href="https://12factor.net/" target="_blank">12factor.net</a></em></p>
            </header>

            <!-- Article Content -->
            <div class="article-content">
                <h2>Introduction</h2>
                <p>In the modern era, software is commonly delivered as a service: called web apps, or
                    software-as-a-service. The twelve-factor app is a methodology for building software-as-a-service
                    apps that:</p>
                <ul>
                    <li>Use <strong>declarative</strong> formats for setup automation, to minimize time and cost for new
                        developers joining the project;</li>
                    <li>Have a <strong>clean contract</strong> with the underlying operating system, offering maximum
                        portability between execution environments;</li>
                    <li>Are suitable for <strong>deployment</strong> on modern cloud platforms, obviating the need for
                        servers and systems administration;</li>
                    <li><strong>Minimize divergence</strong> between development and production, enabling continuous
                        deployment for maximum agility;</li>
                    <li>And can <strong>scale up</strong> without significant changes to tooling, architecture, or
                        development practices.</li>
                </ul>
                <p>The twelve-factor methodology can be applied to apps written in any programming language, and which
                    use any combination of backing services (database, queue, memory cache, etc).</p>

                <h3>Index</h3>
                <ul>
                    <li><a href="#i-codebase">I. Codebase</a>: One codebase tracked in revision control, many deploys
                    </li>
                    <li><a href="#ii-dependencies">II. Dependencies</a>: Explicitly declare and isolate dependencies
                    </li>
                    <li><a href="#iii-config">III. Config</a>: Store config in the environment</li>
                    <li><a href="#iv-backing-services">IV. Backing services</a>: Treat backing services as attached
                        resources</li>
                    <li><a href="#v-build-release-run">V. Build, release, run</a>: Strictly separate build and run
                        stages</li>
                    <li><a href="#vi-processes">VI. Processes</a>: Execute the app as one or more stateless processes
                    </li>
                    <li><a href="#vii-port-binding">VII. Port binding</a>: Export services via port binding</li>
                    <li><a href="#viii-concurrency">VIII. Concurrency</a>: Scale out via the process model</li>
                    <li><a href="#ix-disposability">IX. Disposability</a>: Maximize robustness with fast startup and
                        graceful shutdown</li>
                    <li><a href="#x-dev-prod-parity">X. Dev/prod parity</a>: Keep development, staging, and production
                        as similar as possible</li>
                    <li><a href="#xi-logs">XI. Logs</a>: Treat logs as event streams</li>
                    <li><a href="#xii-admin-processes">XII. Admin processes</a>: Run admin/management tasks as one-off
                        processes</li>
                </ul>

                <h2 id="i-codebase">I. Codebase</h2>
                <h3>One codebase tracked in revision control, many deploys</h3>
                <p>A twelve-factor app is always tracked in a version control system, such as Git, Mercurial, or
                    Subversion. A copy of the revision tracking database is known as a code repository, often shortened
                    to code repo or just repo.</p>
                <p>There is always a one-to-one correlation between the codebase and the app:</p>
                <ul>
                    <li>If there are multiple codebases, it’s not an app – it’s a distributed system. Each component in
                        a distributed system is an app, and each can individually comply with twelve-factor.</li>
                    <li>Multiple apps sharing the same code is a violation of twelve-factor. The solution here is to
                        factor shared code into libraries which can be included through the dependency manager.</li>
                </ul>

                <h2 id="ii-dependencies">II. Dependencies</h2>
                <h3>Explicitly declare and isolate dependencies</h3>
                <p>A twelve-factor app never relies on implicit existence of system-wide packages. It declares all
                    dependencies, completely and exactly, via a dependency declaration manifest. Furthermore, it uses a
                    dependency isolation tool during execution to ensure that no implicit dependencies “leak in” from
                    the surrounding system.</p>

                <h2 id="iii-config">III. Config</h2>
                <h3>Store config in the environment</h3>
                <p>An app’s config is everything that is likely to vary between deploys (staging, production, developer
                    environments, etc).</p>
                <p>The twelve-factor app stores config in environment variables (often shortened to env vars or env).
                    Env vars are easy to change between deploys without changing any code; unlike config files, there is
                    little chance of them being checked into the code repo accidentally.</p>

                <h2 id="iv-backing-services">IV. Backing services</h2>
                <h3>Treat backing services as attached resources</h3>
                <p>A backing service is any service the app consumes over the network as part of its normal operation.
                    Examples include datastores (such as MySQL or CouchDB), messaging/queueing systems (such as RabbitMQ
                    or Beanstalkd), SMTP services for outbound email (such as Postfix), and caching systems (such as
                    Memcached).</p>
                <p>The code for a twelve-factor app makes no distinction between local and third party services. To the
                    app, both are attached resources, accessed via a URL or other locator/credentials stored in the
                    config.</p>

                <h2 id="v-build-release-run">V. Build, release, run</h2>
                <h3>Strictly separate build and run stages</h3>
                <p>A codebase is transformed into a (non-development) deploy through three stages:</p>
                <ul>
                    <li>The <strong>build stage</strong> is a transform which converts a code repo into an executable
                        bundle known as a build.</li>
                    <li>The <strong>release stage</strong> takes the build produced by the build stage and combines it
                        with the deploy’s current config.</li>
                    <li>The <strong>run stage</strong> (also known as “runtime”) runs the app in the execution
                        environment.</li>
                </ul>
                <p>The twelve-factor app uses strict separation between the build, release, and run stages. For example,
                    it is impossible to make changes to the code at runtime, since there is no way to propagate those
                    changes back to the build stage.</p>

                <h2 id="vi-processes">VI. Processes</h2>
                <h3>Execute the app as one or more stateless processes</h3>
                <p>Twelve-factor processes are stateless and share-nothing. Any data that needs to persist must be
                    stored in a stateful backing service, typically a database.</p>
                <p>The memory space or filesystem of the process can be used as a brief, single-transaction cache. The
                    twelve-factor app never assumes that anything cached in memory or on disk will be available on a
                    future request or job.</p>

                <h2 id="vii-port-binding">VII. Port binding</h2>
                <h3>Export services via port binding</h3>
                <p>The twelve-factor app is completely self-contained and does not rely on runtime injection of a
                    webserver into the execution environment to create a web-facing service. The web app exports HTTP as
                    a service by binding to a port, and listening to requests coming in on that port.</p>

                <h2 id="viii-concurrency">VIII. Concurrency</h2>
                <h3>Scale out via the process model</h3>
                <p>In the twelve-factor app, processes are a first class citizen. Processes in the twelve-factor app
                    take strong cues from the unix process model for running service daemons. Using this model, the
                    developer can architect their app to handle diverse workloads by assigning each type of work to a
                    process type.</p>

                <h2 id="ix-disposability">IX. Disposability</h2>
                <h3>Maximize robustness with fast startup and graceful shutdown</h3>
                <p>The twelve-factor app’s processes are disposable, meaning they can be started or stopped at a
                    moment’s notice. This facilitates fast elastic scaling, rapid deployment of code or config changes,
                    and robustness of production deploys.</p>

                <h2 id="x-dev-prod-parity">X. Dev/prod parity</h2>
                <h3>Keep development, staging, and production as similar as possible</h3>
                <p>The twelve-factor app is designed for continuous deployment by keeping the gap between development
                    and production small.</p>
                <ul>
                    <li>Make the <strong>time gap small</strong>: a developer may write code and have it deployed hours
                        or even just minutes later.</li>
                    <li>Make the <strong>personnel gap small</strong>: developers who wrote code are closely involved in
                        deploying it and watching its behavior in production.</li>
                    <li>Make the <strong>tools gap small</strong>: keep development and production as similar as
                        possible.</li>
                </ul>

                <h2 id="xi-logs">XI. Logs</h2>
                <h3>Treat logs as event streams</h3>
                <p>A twelve-factor app never concerns itself with routing or storage of its output stream. It should not
                    attempt to write to or manage logfiles. Instead, each running process writes its event stream,
                    unbuffered, to stdout.</p>

                <h2 id="xii-admin-processes">XII. Admin processes</h2>
                <h3>Run admin/management tasks as one-off processes</h3>
                <p>One-off admin processes should be run in an identical environment as the regular long-running
                    processes of the app. They run against a release, using the same codebase and config as any process
                    run against that release.</p>
            </div>
        </article>
    </div>

    <div id="footer-placeholder"></div>

    <script src="../../js/post_layout.js"></script>
</body>

</html>